{% extends "core/base.html" %}

{% block title %}Home{% endblock %}

{% block content %}
    <div class="max-w-4xl mx-auto p-6 bg-white shadow-xl rounded-lg mt-10">
        <h1 class="text-3xl font-bold text-gray-800 mb-4">Welcome, {{ user.email }}!</h1>
        
        <p class="text-gray-600 mb-6">
            You are successfully logged in to the template-based web application.
            This area is currently under construction for the simple chat application!
        </p>

        <h2 class="text-xl font-semibold text-gray-700 mb-3">Your Auth Tokens (API)</h2>
        <p class="text-sm text-gray-500 mb-6">
            If you were logged in via the API, a token would be returned. This web app uses session cookies for authentication.
            This is where you could see your API token if this were an API frontend.
        </p>

        {# --- LOGOUT FORM (FIX for HTTP 405) --- #}
        {# NOTE: The form method MUST be POST, including the CSRF token. This prevents the 405 error. #}
        <form method="post" action="{% url 'web-logout' %}" class="inline-block">
            {% csrf_token %}
            <button type="submit" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-150">
                Log Out
            </button>
        </form>
    </div>
{% endblock %}
